<!DOCTYPE html>
<html>
<head>
  <title>Lionel Train Card - Development Preview</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      margin: 0;
      padding: 20px;
      min-height: 100vh;
    }
    .container {
      max-width: 420px;
      margin: 0 auto;
    }
    h1 {
      color: white;
      text-align: center;
      margin-bottom: 8px;
      font-weight: 600;
    }
    .subtitle {
      color: #888;
      text-align: center;
      font-size: 0.9em;
      margin-bottom: 24px;
    }
    .note {
      color: #666;
      text-align: center;
      font-size: 0.85em;
      margin-top: 20px;
      padding: 12px;
      background: rgba(255,255,255,0.05);
      border-radius: 8px;
    }
    /* Mock HA card styles */
    ha-card {
      display: block;
      background: #1e1e1e;
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.4);
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ðŸš‚ Lionel Train Card</h1>
    <p class="subtitle">Development Preview</p>
    <lionel-train-card id="card"></lionel-train-card>
    <p class="note">This is a development preview. Button clicks will show alerts with the service calls that would be made in Home Assistant.</p>
  </div>

  <script>
    // Mock ha-card element
    if (!customElements.get('ha-card')) {
      customElements.define('ha-card', class extends HTMLElement {
        constructor() {
          super();
        }
      });
    }

    // Mock Home Assistant object
    const mockHass = {
      states: {
        'binary_sensor.polar_express_connected': { state: 'on' },
        'number.polar_express_throttle': { state: '35' },
        'switch.polar_express_lights': { state: 'on' },
      },
      callService: (domain, service, data) => {
        console.log(`Service called: ${domain}.${service}`, data);
        // Show a toast-style notification instead of alert
        const toast = document.createElement('div');
        toast.style.cssText = 'position:fixed;bottom:20px;left:50%;transform:translateX(-50%);background:#333;color:white;padding:12px 24px;border-radius:8px;font-size:14px;z-index:1000;box-shadow:0 4px 12px rgba(0,0,0,0.3);';
        toast.textContent = `${domain}.${service}: ${data.entity_id}`;
        document.body.appendChild(toast);
        setTimeout(() => toast.remove(), 2000);
      }
    };
  </script>
  <script type="module" src="../dist/lionel-train-card.js"></script>
  <script>
    // Wait for custom element to be defined
    customElements.whenDefined('lionel-train-card').then(() => {
      const card = document.getElementById('card');
      card.setConfig({
        device: 'Polar Express',
        name: 'Polar Express'
      });
      card.hass = mockHass;
    });
  </script>
</body>
</html>
